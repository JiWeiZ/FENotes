(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{241:function(t,e,a){"use strict";a.r(e);var s=a(0),n=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("先安装，来个hello world")]),t._v(" "),t._m(1),t._m(2),t._v(" "),a("p",[t._v("要理解docker，最核心的是理解三个概念，分别是：仓库（Registry）、镜像（image）和容器（Container）。")]),t._v(" "),a("p",[t._v("所谓仓库，其实是个镜像仓库，里面有很多别人已经打包好的镜像，可以直接使用"),a("code",[t._v("docker pull")]),t._v("命令将仓库中的镜像拉到本地，默认的仓库Docker的官方仓库"),a("a",{attrs:{href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker Hub Registry"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("在bash中运行，cmd运行有时会报错（因为安装的是时候选了Linux风格）")]),t._v(" "),t._m(3),a("p",[t._v("运行镜像之后就会生成一个容器")]),t._v(" "),t._m(4),a("p",[t._v('这个命令会在docker容器中执行"apt-get install -y ping"，也就是安装一个'),a("a",{attrs:{href:"https://www.baidu.com/s?wd=ping%E5%91%BD%E4%BB%A4&tn=24004469_oem_dg&rsv_dl=gh_pl_sl_csd",target:"_blank",rel:"noopener noreferrer"}},[t._v("ping命令"),a("OutboundLink")],1),t._v("，运行完之后容器就自动退出了。")]),t._v(" "),t._m(5),a("p",[t._v("现在试着ping一下")]),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),a("p",[t._v("可见ping命令可以使用了。在上面这个现象的背后，容器其实只是在镜像上面添加一个可写层，每当对这个容器进行修改都会在可写层标明与原本镜像的不同之处，当你使用docker commit命令时，只是提交了一个可写层，将它变成一个不可写的镜像层，而这个新的镜像和原本的镜像共享原本镜像的所有层，这就是所谓的docker分层机制，其实每个docker镜像都是由好多层构成的，这个机制能极大地缩小镜像占用的硬盘空间，如下图")]),t._v(" "),t._m(9),t._v(" "),a("p",[t._v("创建一个镜像")]),t._v(" "),t._m(10),a("p",[t._v("启动一个镜像")]),t._v(" "),t._m(11)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"初识docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#初识docker","aria-hidden":"true"}},[this._v("#")]),this._v(" 初识Docker")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("C:\\Users\\zhaojiwei"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("docker run ubuntu:15.10 /bin/echo "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello world"')]),t._v("\nUnable to "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" image "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ubuntu:15.10'")]),t._v(" locally\n15.10: Pulling from library/ubuntu\n7dcf5a444392: Pull complete\n759aa75f3cee: Pull complete\n3fa871dc8a2b: Pull complete\n224c42ae46e7: Pull complete\nDigest: sha256:02521a2d079595241c6793b2044f02eecf294034f31d6e235ac4b2b54ffc41f3\nStatus: Downloaded newer image "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" ubuntu:15.10\nHello world\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker核心概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker核心概念","aria-hidden":"true"}},[this._v("#")]),this._v(" docker核心概念")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 去仓库中搜索含有tutorial关键字的镜像")]),t._v("\ndocker search tutorial\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker pull命令从仓库中拉取镜像到本地")]),t._v("\ndocker pull learn/tutorial\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 看到本地已有的镜像")]),t._v("\ndocker images\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除镜像")]),t._v("\ndocker rmi 镜像id\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除所有镜像")]),t._v("\ndocker rmi "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("docker images -q"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 停止所有容器")]),t._v("\ndocker stop "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("docker "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -aq"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除所有容器")]),t._v("\ndocker "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("docker "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -aq"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("$ docker run learn/tutorial "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("apt-get")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" -y "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("ping")]),this._v("\n")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看所有当前正在运行的容器")]),t._v("\ndocker "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看到所有容器")]),t._v("\ndocker "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -a\n")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ docker run learn/tutorial "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ping")]),t._v(" www.baidu.com\nC:\\Program Files\\Docker\\Docker\\Resources\\bin\\docker.exe: Error response from daemon: OCI runtime create failed: container_linux.go:344: starting container process caused "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"exec: \\"ping\\": executable file not found in '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PATH")]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(":")]),t._v(" unknown.\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("为啥说找不到ping呢？明明安装了呀，这是因为在容器中的修改并不会影响镜像，通过"),e("code",[this._v("docker commit")]),this._v("命令可以将这个容器提交成一个新的镜像。")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("zhaojiwei@HIH-D-17576 MINGW64 /e\n$ docker "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -a\nCONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS                          PORTS               NAMES9cbb57970c80        learn/tutorial      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apt-get install -y …"')]),t._v("   About a minute ago   Exited "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" About a minute ago                       modest_diffie\n\nzhaojiwei@HIH-D-17576 MINGW64 /e\n$ docker commit 9cbb57970c80 new-ping\nsha256:a44afc3aae198f109629120f0b689067cc382b7d24b0f99cfc26f840a8657423\n\nzhaojiwei@HIH-D-17576 MINGW64 /e\n$ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nnew-ping            latest              a44afc3aae19        12 seconds ago      140MB\nlearn/tutorial      latest              a7876479f1aa        5 years ago         128MB\n\n$ docker run new-ping "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ping")]),t._v(" www.baidu.com\nPING www.a.shifen.com "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("115.239.211.112"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 56"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("84"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" bytes of data.\n64 bytes from 115.239.211.112: icmp_req"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("1 ttl"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("37 time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("3.62 ms\n64 bytes from 115.239.211.112: icmp_req"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("2 ttl"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("37 time"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("6.15 ms\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190222195112903.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzMjU2Njg4,size_16,color_FFFFFF,t_70",alt:"dockeråå±æºå¶"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("docker build -t xml2img:latest "),e("span",{pre:!0,attrs:{class:"token keyword"}},[this._v(".")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker run -p 7003:7003 xml2img\n")])])])}],!1,null,null,null);e.default=n.exports}}]);